+ trap 'cat /sys/fs/cgroup/memory/$(cat /proc/$$/cgroup | grep -oP '\''^.*:memory:\K.*$'\'')/memory.max_usage_in_bytes > /import/ch-sc-swdump2/surajk/artifact_root/apps/ch__jit_unaryops_abs_test_variation_0/run/max_used_host_memory.0 && grep --text -oP "slurmJobId=$SLURM_JOB_ID.*Physical RDU ID: \K\d+" /var/log/sambaflow/runtime/sn.log > /import/ch-sc-swdump2/surajk/artifact_root/apps/ch__jit_unaryops_abs_test_variation_0/run/physical_chip_ids.0 || true' EXIT
+ cd /import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/frontend/jit/torch_rdu/test/python/
+ ulimit -l unlimited
+ mkdir -p /scratch/surajk/.cache/huggingface
+ export PATH=/usr/local/bin:/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
+ PATH=/usr/local/bin:/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
+ export PYTHONPATH=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/venv/lib/python3.7/site-packages:/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/sambaflow:/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/frontend/jit/torch_rdu/test/python/
+ PYTHONPATH=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/venv/lib/python3.7/site-packages:/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/sambaflow:/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/frontend/jit/torch_rdu/test/python/
+ export LD_LIBRARY_PATH=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/lib:/opt/llvm12/lib:
+ LD_LIBRARY_PATH=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/lib:/opt/llvm12/lib:
+ export SOFTWARE_HOME=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p
+ SOFTWARE_HOME=/import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p
+ export ARTIFACT_ROOT=/import/ch-sc-swdump2/surajk/artifact_root
+ ARTIFACT_ROOT=/import/ch-sc-swdump2/surajk/artifact_root
+ true
+ OMP_NUM_THREADS=8
+ pytest -rP operations/test_unary_ops.py -k 'test_unary[abs]'
============================= test session starts ==============================
platform linux -- Python 3.7.6, pytest-7.1.2, pluggy-0.13.1
rootdir: /import/ch-sc-swdump2/surajk/sambaflow_PIaWV9hw0p/frontend/jit/torch_rdu/test/python
plugins: xdist-2.3.0, forked-1.3.0
collected 37 items / 36 deselected / 1 selected

operations/test_unary_ops.py .                                           [100%]

==================================== PASSES ====================================
_______________________________ test_unary[abs] ________________________________
----------------------------- Captured stdout call -----------------------------
[compiler:info] [torch_rdu] empty_strided ...
[compiler:info] [torch_rdu] empty for size: {10, 15} ...
[compiler:info] [torch_rdu] Copy from: 0x55878ee93d00 to: 0x55878ee9edf0
[compiler:info]   Source: 600 bytes with name  0x0
[compiler:info]   Dest: 600 bytes with name  0x0
[compiler:info] [torch_rdu] abs ...
[compiler:info] platform name...
[compiler:info] DataScale SN10-8
Log ID initialized to: [surajk][python3.7][1032281] at /var/log/sambaflow/runtime/sn.log
[JITPerf] JIT constructed in 45069864 ns
[JITPerf] JIT& constructed in 45089534 ns
[JITPerf] get_empty() 720 ns
[compiler:info] [torch_rdu] empty for size: {} ...
[JITPerf] get_rdu_tensor_impl() 130 ns
[compiler:info] Creating new IR...
[compiler:info] [torch_rdu] alias ...
[compiler:info] RDU shallow_copy_and_detach &&1 0x55878ee9edf0 1 has_backanno: 0
[JITPerf] extract_inputs_helper() 1733939 ns
[JITPerf] JIT& constructed in 80 ns
[JITPerf] get_rdu_tensor_impl() 150 ns
[JITPerf] update_ir() 4680 ns
[compiler:info] module @program attributes {arc.AIRMappingDecisionIsSpatial = false, arc.kAIRAddnOpt = true, arc.kAIRBufferBeforeConcatAddn = false, arc.kAIRBufferNonRedundancy = "", arc.kAIRDPTilingOptimization = false, arc.kAIRDisableConcatStoreOpt = false, arc.kAIRDisableLoadTilerOptWithDimOrdering = false, arc.kAIRDisableOptimizeRereadBuffer = false, arc.kAIREnableSkipBufferExtensionOpt = false, arc.kAIREnableStoreTilerOptWithDimOrdering = false, arc.kAIRForceDRAMFirstThenP2P = false, arc.kAIRMappingDecisionGlobalNumBatches = 1 : i64, arc.kAIRMetaPipeWithOneIterationRemoval = false, arc.kAIRTransposeMatMulTransformation = false, arc.kAppName = "jit_out", arc.kArchMajor = 1 : i64, arc.kArchMinor = 0 : i64, arc.kBoxLayoutSize = 2 : i64, arc.kBoxLayoutType = 0 : i64, arc.kConcisePrinting = false, arc.kDataParallelBf16StochasticRounding = false, arc.kDataParallelBf16StochasticRoundingHighStaticBatchSize = false, arc.kDataParallelBf16StochasticRoundingSeedName = "", arc.kEliminateBufferTimeout = 100 : i64, arc.kExperimentalOptimization = true, arc.kExperimentalRAILCrossEntropy = false, arc.kExperimentalRAILCrossEntropyGrad = false, arc.kGenerateReference = true, arc.kGenerateTensorboard = false, arc.kHeuristicSliceLayouts = false, arc.kHeuristicTilerLayouts = true, arc.kLayoutTimeout = 1000 : i64, arc.kLegalizeDataflow = true, arc.kLegalizeSamples = false, arc.kMaximumGroupLatencyFactor = 5.000000e-02 : f32, arc.kMoveViews = false, arc.kOptimizeDramTransfers = false, arc.kOutputFolder = "/scratch/jobs/38261840", arc.kOverrideMaxFanout = 0 : i64, arc.kPefName = "jit_out", arc.kPlasmaIncludeReadStallCycles = false, arc.kPlasmaSkipInstrumentationOnRead0 = false, arc.kPlasmaSkipInstrumentationOnRead1 = false, arc.kPlasmaStageInstrumentation = "none", arc.kPrintSrcs = [], arc.kResourceAwareBuffers = false, arc.kSambaTuneGraph = false, arc.kSkipBufferBandwidthWeight = 1 : i64, arc.kSkipBufferMaxDepth = 4096 : i64, arc.kSkipBufferMaxFanin = 8 : i64, arc.kSkipBufferPmuWeight = 1 : i64, arc.kSplitSkipBuffer = true, arc.kStrictNodeNameOrdering = true, arc.kUseTBufferEverywhere = false, arc.kVerbose = true, mac.kDisableMacTiling = false, mac.kMacDisableMappingSort = false, mac.kMacDisableRetryLowerScalingFactor = false, mac.kMacEnableBufferTrialCompile = false, mac.kMacEnableHDRetryLowerVisibleResources = false, mac.kMacEnableNodeTrialCompile = false, mac.kMacEnableNodeTrialCompileLogging = false, mac.kMacIsUnrollingFirst = false, mac.kMacMaxTilingDepth = 0 : i64, mac.kMacOnlyCompileMac = false, mac.kMacPlot = false, mac.kMacPrintMappingIR = false, mac.kMacSectionCutBeamSearch = [2, 2], mac.kMacSplitCatAsStageBuffer = false, mac.kMacTemplateDBDir = "", mac.kMacTensorParallel = "none", mac.kMacUseHostFIFO = false}  {
  module @templates  {
  }
  module @sections  {
    %0 = "air.Tensor"() {kConfigured = true, kIsWeight = false, kNodeCategory = 5 : i64} : () -> tensor<10x15xbf16>
    %1 = "air.Abs"(%0) {kConfigured = true, kNodeCategory = 1 : i64} : (tensor<10x15xbf16>) -> tensor<10x15xbf16>
  }
  module @schedule  {
  }
  module @rnn_function  {
  }
}
[JITPerf] unary() 2048004 ns
[JITPerf] unary_out() 2082904 ns
CPU Elapsed time  0.0000 seconds
RDU Elapsed time  0.0472 seconds
[JITPerf] JIT& constructed in 70 ns
[JITPerf] force_evaluate::RDUTensorImpl in 390 ns
[compiler:info] Forcing evaluation...
[compiler:info] owning_ir_storage count: 1
[JITPerf] force_evaluate::PrepareIR in 46980 ns
[compiler:info] module @program attributes {arc.AIRMappingDecisionIsSpatial = false, arc.kAIRAddnOpt = true, arc.kAIRBufferBeforeConcatAddn = false, arc.kAIRBufferNonRedundancy = "", arc.kAIRDPTilingOptimization = false, arc.kAIRDisableConcatStoreOpt = false, arc.kAIRDisableLoadTilerOptWithDimOrdering = false, arc.kAIRDisableOptimizeRereadBuffer = false, arc.kAIREnableSkipBufferExtensionOpt = false, arc.kAIREnableStoreTilerOptWithDimOrdering = false, arc.kAIRForceDRAMFirstThenP2P = false, arc.kAIRMappingDecisionGlobalNumBatches = 1 : i64, arc.kAIRMetaPipeWithOneIterationRemoval = false, arc.kAIRTransposeMatMulTransformation = false, arc.kAppName = "jit_out", arc.kArchMajor = 1 : i64, arc.kArchMinor = 0 : i64, arc.kBoxLayoutSize = 2 : i64, arc.kBoxLayoutType = 0 : i64, arc.kConcisePrinting = false, arc.kDataParallelBf16StochasticRounding = false, arc.kDataParallelBf16StochasticRoundingHighStaticBatchSize = false, arc.kDataParallelBf16StochasticRoundingSeedName = "", arc.kEliminateBufferTimeout = 100 : i64, arc.kExperimentalOptimization = true, arc.kExperimentalRAILCrossEntropy = false, arc.kExperimentalRAILCrossEntropyGrad = false, arc.kGenerateReference = true, arc.kGenerateTensorboard = false, arc.kHeuristicSliceLayouts = false, arc.kHeuristicTilerLayouts = true, arc.kLayoutTimeout = 1000 : i64, arc.kLegalizeDataflow = true, arc.kLegalizeSamples = false, arc.kMaximumGroupLatencyFactor = 5.000000e-02 : f32, arc.kMoveViews = false, arc.kOptimizeDramTransfers = false, arc.kOutputFolder = "/scratch/jobs/38261840", arc.kOverrideMaxFanout = 0 : i64, arc.kPefName = "jit_out", arc.kPlasmaIncludeReadStallCycles = false, arc.kPlasmaSkipInstrumentationOnRead0 = false, arc.kPlasmaSkipInstrumentationOnRead1 = false, arc.kPlasmaStageInstrumentation = "none", arc.kPrintSrcs = [], arc.kResourceAwareBuffers = false, arc.kSambaTuneGraph = false, arc.kSkipBufferBandwidthWeight = 1 : i64, arc.kSkipBufferMaxDepth = 4096 : i64, arc.kSkipBufferMaxFanin = 8 : i64, arc.kSkipBufferPmuWeight = 1 : i64, arc.kSplitSkipBuffer = true, arc.kStrictNodeNameOrdering = true, arc.kUseTBufferEverywhere = false, arc.kVerbose = true, mac.kDisableMacTiling = false, mac.kMacDisableMappingSort = false, mac.kMacDisableRetryLowerScalingFactor = false, mac.kMacEnableBufferTrialCompile = false, mac.kMacEnableHDRetryLowerVisibleResources = false, mac.kMacEnableNodeTrialCompile = false, mac.kMacEnableNodeTrialCompileLogging = false, mac.kMacIsUnrollingFirst = false, mac.kMacMaxTilingDepth = 0 : i64, mac.kMacOnlyCompileMac = false, mac.kMacPlot = false, mac.kMacPrintMappingIR = false, mac.kMacSectionCutBeamSearch = [2, 2], mac.kMacSplitCatAsStageBuffer = false, mac.kMacTemplateDBDir = "", mac.kMacTensorParallel = "none", mac.kMacUseHostFIFO = false}  {
  module @templates  {
  }
  module @sections  {
    %0 = "air.Tensor"() {kConfigured = true, kIsWeight = false, kNodeCategory = 5 : i64} : () -> tensor<10x15xbf16>
    %1 = "air.Abs"(%0) {kConfigured = true, kNodeCategory = 1 : i64} : (tensor<10x15xbf16>) -> tensor<10x15xbf16>
    "air.Output"(%1) {kConfigured = true, kNodeCategory = 5 : i64} : (tensor<10x15xbf16>) -> ()
  }
  module @schedule  {
  }
  module @rnn_function  {
  }
}
[JITPerf] force_evaluate::PopulateMeta in 82471 ns
[compiler:info] ====== HASH INFO: 29a2f506aa7ae1a10350a88008e53bcbb9937f45a131477ae28dcc537596d1bd
[info    ] [PLASMA] Launching plasma compilation! See log file: /scratch/jobs/38261840/jit_out/jit_out.plasma_compile.log
[info    ] Total per-section passes: 77
[info    ] Compiling graph for section 0
[mac:info] Building nameddims for graph jit_out
[mac:info] Analyze tiling for graph: jit_out
[mac:info] Mapping for graph jit_out
[mac:info] Set up stage ID and metapipe ID for section 0
[mac:info] MAC decided on the following section cuts for graph jit_out
[mac:info] Amortized resources overall: 1.000000e+00 PCUs, 7.000000e+00 PMUs, projected latency: 3.500659e-05 s, FLOPS: 4.284908e-06 T/s, DDR_BW: 1.596253e-02 GB/s
[mac:info] Lowering to TLIR succeeded.
[rail:info] Logs are generated in /scratch/jobs/38261840/jit_out//rail_gen//rail_compile_logs for partition_0_0_.
[rail:info] Compilation succeeded for partition_0_0_. Elapsed time:  1ms
[info    ] [PASS] Running PRISM000_PreProcessPass0_0
[info    ] Generated utilization report file: /scratch/jobs/38261840/jit_out/jit_out.s0.utilization_report.txt
[info    ] [PASS] Running PRISM001_FeedbackGenPass0_0
[info    ] [PASS] Running PRISM002_PlasmaIRPass0_0
[compiler:info] Starting Plasma compile at /scratch/jobs/38261840/jit_out/plasma_ir_modules/sections_0_0
[compiler:info] Plasma compile succeeded.
[compiler:info] Starting Plasma compile at /scratch/jobs/38261840/jit_out/plasma_ir_modules/schedule_0_0
[compiler:info] Plasma compile succeeded.
[info    ] [PASS] Running PRISM003_PlasmaIRSymbolAllocExportPass0_0
[info    ] [PASS] Running PRISM004_LegalizeUtilizationPass0_0
[info    ] [PASS] Running PRISM005_LegalizeSocketConnectionsPass0_0
[info    ] [PASS] Running PRISM006_LayoutConsolidationPass0_0
[info    ] [PASS] Running PRISM007_PmuLoadStoreSetupPass0_0
[info    ] [PASS] Running PRISM008_FinalizeIoPass0_0
[info    ] [PASS] Running PRISM009_CollectConnectionPass0_0
[info    ] [PASS] Running PRISM010_NetworkValidationPass0_0
[info    ] [PASS] Running PRISM011_DramAnalyticalReportPass0_0
[info    ] Logging dram analysis report to /scratch/jobs/38261840/jit_out/prism_gen/reports/dram_analysis.json
[info    ] [PASS] Running PRISM012_AsmIRGenPNRConnectPass0_0
[info    ] [PASS] Running PRISM013_PrintLoweringPass0_0
[info    ] [PASS] Running PRISM014_AsmIRResourceAllocationPass0_0
[info    ] [PASS] Running PRISM015_PmuExprCompilePass0_0
[info    ] [PASS] Running PRISM016_GroupAnnotationPass0_0
[info    ] [PASS] Running PRISM017_TemplateDataflowGraphPass0_0
[info    ] [PASS] Running PRISM018_BoxUtilizationLegalizerPass0_0
[info    ] [PASS] Running PRISM019_LegalizePartitionAssignmentPass0_0
[info    ] [PASS] Running PRISM020_ConditionValidationPass0_0
[info    ] [PASS] Running PRISM021_AssignMetapipeStagePass0_0
[info    ] [PASS] Running PRISM022_AnalyticalModelFileGenPass0_0
[info    ] [PASS] Running PRISM023_PlasmaIRProgramStatePass0_0
[info    ] [PASS] Running PRISM024_MetapipeStageLatencyPass0_0
[info    ] Generated metapipe stage graph dot file: /scratch/jobs/38261840/jit_out/stage_buffers/partition_latency_0_0.dot
[info    ] [PASS] Running PRISM025_MetapipeStageGraphPass0_0
[info    ] [PASS] Running PRISM026_BandwidthAnnotationPass0_0
[info    ] BandwidthAnnotationPropagation log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM026_BandwidthAnnotationPass0_0.BWP.0.0.log
[info    ] BandwidthAnnotationPropagation log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM026_BandwidthAnnotationPass0_0.BWP.0.0.log
[info    ] 

============ Bandwidth QA Report ============

Total edges: 5
Bandwidth starving edges before pass (src/sink < 0.8): 3 (60%)
Bandwidth back pressure edges before pass (src/sink > 1.2): 1 (20%)
Missing source bandwidth after pass: 0 (0%)
Missing sink bandwidth after pass: 0 (0%)

[info    ] [PASS] Running PRISM027_FilePlacementPass_GenEdgeId0_0
[info    ] [PASS] Running PRISM028_FloorplanPass0_0
[info    ] Floorplanning log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM028_FloorplanPass0_0.FP.0.0.log
[info    ] [PASS] Running PRISM029_VagAllocPass0_0
[info    ] [PASS] Running PRISM030_AsmIRPrePortAllocAsmTransformPass0_0
[info    ] [PASS MANAGER] Start PnR
[info    ] [PASS] Running PRISM031_PlacerPass0_0
[info    ] Prism config stored in: /scratch/jobs/38261840/jit_out/jit_out.configs
[info    ] Launching placement flow with (set) 1 threads
[info    ] BoxPlanner log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM031_PlacerPass0_0.BP.0.0.log
[info    ] SAPlacer log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM031_PlacerPass0_0.SA.0.0.log
[info    ] Placement runtime:	partition{0, 0}: 0s	
[info    ] [PASS] Running PRISM032_PmuTwinPass0_0
[info    ] [PASS] Running PRISM033_TemplateTileDoneLoweringPass0_0
[info    ] [PASS] Running PRISM034_VagConfigurePass0_0
[info    ] [PASS] Running PRISM035_VagAllocReportPass0_0
[info    ] [PASS] Running PRISM036_DataPortAllocatorPass0_0
[info    ] [PASS] Running PRISM037_AgcuOrchestrationPass0_0
[info    ] [PASS] Running PRISM038_RampControlPass0_0
[info    ] [PASS] Running PRISM039_E2EInjectionPass0_0
[info    ] [PASS] Running PRISM040_InstrumentationPreprocessPass0_0
[info    ] [PASS] Running PRISM041_BarrierLoweringPass0_0
[info    ] [PASS] Running PRISM042_ControlPortAllocatorPass0_0
[info    ] [PASS] Running PRISM043_ControlBandwidthAnnotationPass0_0
[info    ] [PASS] Running PRISM044_InstrumentationCounterPass0_0
[info    ] [PASS] Running PRISM045_ControlPortAllocatorPass0_0
[info    ] [PASS] Running PRISM046_ControlConnectorPass0_0
[info    ] [PASS] Running PRISM047_DataConnectorPass0_0
[info    ] [PASS MANAGER] Done with PnR
[info    ] [PASS] Running PRISM048_BandwidthReportPass0_0
[info    ] BandwidthReport log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM048_BandwidthReportPass0_0.VECTOR.0.0.log
[info    ] BandwidthReport log for Partition{0, 0}: /scratch/jobs/38261840/jit_out/prism_gen/plasma_compile_logs/PRISM048_BandwidthReportPass0_0.SCALAR.0.0.log
[info    ] [PASS] Running PRISM049_FeedbackGenPass0_0
[info    ] [PASS] Running PRISM050_ControlConnectionCodegenPass0_0
[info    ] [PASS] Running PRISM051_DataConnectionCodegenPass0_0
[info    ] [PASS] Running PRISM052_FinalizePass0_0
[info    ] [PASS] Running PRISM053_FinalizeSnapshotPass0_0
[info    ] [PASS] Running PRISM054_VagExprCompilePass0_0
[info    ] [PASS] Running PRISM055_WatermarkPass0_0
[info    ] [PASS] Running PRISM056_OrphanUnitPass0_0
[info    ] [PASS] Running PRISM057_BoxFileGenPass0_0
[info    ] [PASS] Running PRISM058_P2pPass0_0
[info    ] [PASS] Running PRISM059_AsmIRPostPortAllocAsmTransformPass0_0
[info    ] [PASS] Running PRISM060_DataSocketAnnotationPass0_0
[info    ] [PASS] Running PRISM061_AuroraFileGenPass0_0
[info    ] [PASS] Running PRISM062_AsmLegalizerPass0_0
[info    ] [PASS] Running PRISM063_ExpectedPacketCountAnnotationPass0_0
[warning ] [../prism/src/plasma/lib/Core/Traversal/Analysis/ExpectedPacketCountAnnotationPass.cpp:188] [Assembler] No counter chains found in streaming context, unable to determine expected_packet_count in abs_0_0_10_output ctx0
[info    ] [PASS] Running PRISM064_ConnectionPatchPass0_0
[info    ] [PASS] Running PRISM065_AsmPlasticineCodegen0_0
[info    ] [PASS] Running PRISM066_ConnectionPatchPass0_0
[info    ] [PASS] Running PRISM067_PrintAsmPass_post_codegen0_0
[info    ] [PASS] Running PRISM068_PrintAsmPass_asm_ir_report0_0
[warning ] [../prism/src/plasma/lib/Core/Traversal/Analysis/RouteReportPass.cpp:34] Old report is not removed: /scratch/jobs/38261840/jit_out/jit_out_0_0.routes_report.txt
[info    ] [PASS] Running PRISM069_RouteReportPass0_0
[info    ] [PASS] Running PRISM070_AgcuFileGenPass0_0
[info    ] [PASS] Running PRISM071_CheckerPass0_0
[info    ] [PASS] Running PRISM072_ArgInsPass0_0
[info    ] [PASS] Running PRISM073_BitfileGenPass0_0
[info    ] bitfile /scratch/jobs/38261840/jit_out/jit_out.bin created
[info    ] [PASS] Running PRISM074_UtilizationFileGenPass0_0
[info    ] [PASS] Running PRISM075_PmuStatsPass0_0
[info    ] PMUStats: Writing /scratch/jobs/38261840/jit_out/jit_out_0_0.pmu_stat_info.csv
[info    ] PMUStats: Writing /scratch/jobs/38261840/jit_out/jit_out_0_0.pmu_stat_ctx_info.csv
[info    ] [PASS] Running PRISM076_PostProcessSectionsPass0_0
[info    ] Freeing memory for compilation phase 0__0
[info    ] Incremental Passes for Section(s) 0__0 Completed.
[info    ] Incremental Passes Completed.
[info    ] [PASS] Running PRISM077_SymInitFunctionsPass
[info    ] [PASS] Running PRISM078_DataAllocPass
[info    ] [PASS] Running PRISM079_HostFifoPass
[info    ] [PASS] Running PRISM080_HostFunctionPass
[info    ] [PASS] Running PRISM081_DebugFileGenPass
[info    ] [PASS] Running PRISM082_PefGenPass
[info    ] symbol log file /scratch/jobs/38261840/jit_out/jit_out.symbol.log created
[info    ] PEF file /scratch/jobs/38261840/jit_out/jit_out.pef created
[info    ] PEF log file /scratch/jobs/38261840/jit_out/jit_out.pef.log created
[info    ] bitfile /scratch/jobs/38261840/jit_out/jit_out.bin loaded
[info    ] bitfile /scratch/jobs/38261840/jit_out/jit_out.bin.slam created
[info    ] [PASS] Running PRISM083_DatafileGenPass
[info    ] datafile /scratch/jobs/38261840/jit_out/jit_out.data created
[info    ] Data log file /scratch/jobs/38261840/jit_out/jit_out.data.log created
[info    ] PnR node feedback file created /scratch/jobs/38261840/jit_out/jit_out.node_feedback.json
[info    ] PnR partition feedback file created /scratch/jobs/38261840/jit_out/jit_out.partition_feedback.json
[info    ] Global Passes Completed.
[arc:info] Generated debug_cpp files placed in: /scratch/jobs/38261840/jit_out/imcg_cpp/arc_gen/
[arc:info] Generated files placed in: /scratch/jobs/38261840/jit_out/arc_gen/
[arc:info] Compilation succeeded.
[mac:info] Mac Compilation succeeded.
[compiler:info] copy pef /scratch/jobs/38261840/jit_out/jit_out.pef to /scratch/jobs/38261840/jit_out/jit_out.0.pef
[compiler:info] Successfully compiled pef at /scratch/jobs/38261840/jit_out/jit_out.pef
[JITPerf] force_evaluate::CompilePEF in 583663482 ns
[JITPerf] force_evaluate::FilterInputs in 20670 ns
Log ID initialized to: [surajk][python3.7][1032281] at /var/log/sambaflow/runtime/sn.log
[JITPerf] force_evaluate::Runtime in 395880242 ns
[compiler:info] ============ PEF run finished and get tensors ========
[JITPerf] force_evaluate() 979737806 ns
[compiler:info] [torch_rdu] Copy from: 0x55878efa3820 to: 0x55878efec880
[compiler:info]   Source: 600 bytes with name  0x0
[compiler:info]   Dest: 600 bytes with name  0x0
Tensor_0: 

CPU:
tensor([[  3.7434, 268.2218, 411.5226, 367.9695, 192.5772, 134.0787,   9.9066,
         396.4448,  44.3720, 132.3063, 151.1065,  98.2827, 477.6743, 331.1411,
         206.1115],
        [ 18.5218, 197.6676, 300.0114, 338.9705, 217.7314, 181.6086, 415.1940,
         102.9001, 374.1559,  80.5917,  52.9070, 452.7381, 463.8352, 314.7690,
         126.5826],
        [194.9000, 432.0004, 324.0898, 230.1664, 349.3203, 468.2805, 291.8702,
         429.7990, 223.1092, 242.3363,  26.2958, 256.3417,  84.5923, 466.8474,
         361.2831],
        [257.7650, 315.4690, 293.1606, 221.7475,  18.0412, 319.7803, 497.0665,
         198.4411,  67.5464, 335.2432, 294.4012,  93.1720, 387.6528, 346.5431,
         258.2918],
        [226.2365, 201.0802, 296.1763, 151.0535, 274.4860,  63.1087,  19.0908,
         115.8524, 310.1883, 480.0970, 385.3118, 183.2349, 196.5049, 414.2747,
         435.1036],
        [441.1784,  99.5073, 434.7913,  45.9963, 312.8027, 465.9771, 444.2462,
         380.1799, 498.7640,  93.5860,  84.2300,  82.2806, 228.8784, 192.2781,
         296.1518],
        [183.2957, 252.8541, 357.9358, 186.9556, 494.8676, 324.3484, 249.6575,
         104.6507, 390.0420, 287.9097, 470.3746, 336.9089, 218.0126, 125.8424,
         476.2990],
        [  8.9871, 376.5294, 385.6783,  27.5498,  75.0725, 204.7651, 296.6888,
         304.2695, 453.6851, 342.6500, 421.6415, 124.4422,  22.5613,  72.9506,
         118.5872],
        [196.2141,  29.9501, 243.9644, 236.5945, 479.6245, 296.3533, 125.1649,
         243.5567, 174.9167, 409.8109, 106.3576, 106.8782, 325.7329,  25.6597,
         357.9254],
        [ 51.4001,  13.8961,  43.1345, 101.1907, 317.9197, 473.6231, 317.5280,
         474.7068,  36.1608, 449.1608, 237.0386, 340.4526,   3.2412, 248.5232,
         383.1559]])

RDU:
tensor([[  3.7344, 268.0000, 410.0000, 366.0000, 192.0000, 134.0000,   9.8750,
         396.0000,  44.2500, 132.0000, 151.0000,  98.0000, 476.0000, 330.0000,
         206.0000],
        [ 18.5000, 197.0000, 300.0000, 338.0000, 217.0000, 181.0000, 414.0000,
         102.5000, 374.0000,  80.5000,  52.7500, 452.0000, 462.0000, 314.0000,
         126.5000],
        [194.0000, 432.0000, 324.0000, 230.0000, 348.0000, 468.0000, 290.0000,
         428.0000, 223.0000, 242.0000,  26.2500, 256.0000,  84.5000, 466.0000,
         360.0000],
        [256.0000, 314.0000, 292.0000, 221.0000,  18.0000, 318.0000, 496.0000,
         198.0000,  67.5000, 334.0000, 294.0000,  93.0000, 386.0000, 346.0000,
         258.0000],
        [226.0000, 201.0000, 296.0000, 151.0000, 274.0000,  63.0000,  19.0000,
         115.5000, 310.0000, 480.0000, 384.0000, 183.0000, 196.0000, 414.0000,
         434.0000],
        [440.0000,  99.5000, 434.0000,  45.7500, 312.0000, 464.0000, 444.0000,
         380.0000, 498.0000,  93.5000,  84.0000,  82.0000, 228.0000, 192.0000,
         296.0000],
        [183.0000, 252.0000, 356.0000, 186.0000, 494.0000, 324.0000, 249.0000,
         104.5000, 390.0000, 286.0000, 470.0000, 336.0000, 218.0000, 125.5000,
         476.0000],
        [  8.9375, 376.0000, 384.0000,  27.5000,  75.0000, 204.0000, 296.0000,
         304.0000, 452.0000, 342.0000, 420.0000, 124.0000,  22.5000,  72.5000,
         118.5000],
        [196.0000,  29.8750, 243.0000, 236.0000, 478.0000, 296.0000, 125.0000,
         243.0000, 174.0000, 408.0000, 106.0000, 106.5000, 324.0000,  25.6250,
         356.0000],
        [ 51.2500,  13.8750,  43.0000, 101.0000, 316.0000, 472.0000, 316.0000,
         474.0000,  36.0000, 448.0000, 237.0000, 340.0000,   3.2344, 248.0000,
         382.0000]])
----------------------------- Captured stderr call -----------------------------
[mac:warn] Got a single node section and MAC may ignore capacity check for it
Updated RegionView start borders for 0 slice groups.
Updated RegionView start borders for 0 slice groups.
MAC050_AIRResourceAwarePeepholeOptIter converged after 1 iteration(s)
MAC055_AIRToTLIRLoweringNestedLoopsIter converged after 0 iteration(s)
Updated RegionView start borders for 0 slice groups.
Updated RegionView start borders for 0 slice groups.
Updated RegionView start borders for 0 slice groups.
Updated RegionView start borders for 0 slice groups.
======================= 1 passed, 36 deselected in 5.14s =======================
++ cat /proc/1032268/cgroup
++ grep -oP '^.*:memory:\K.*$'
+ cat /sys/fs/cgroup/memory//slurm/uid_1447851142/job_38261840/step_batch/task_0/memory.max_usage_in_bytes
+ grep --text -oP 'slurmJobId=38261840.*Physical RDU ID: \K\d+' /var/log/sambaflow/runtime/sn.log
+ true
<181>2022-07-08T17:00:17.825128-07:00 sc-s144 [surajk][python3.7][1032281]: [NOTICE][RSC][meta hostname=sc-s144.sambanovasystems.com tid=1032281 slurmJobId=38261840] Resource Status: Allocation Success
<181>2022-07-08T17:00:17.930808-07:00 sc-s144 [surajk][python3.7][1032281]: [NOTICE][RSC][meta hostname=sc-s144.sambanovasystems.com tid=1032281 slurmJobId=38261840] grdu_mask: 0
<181>2022-07-08T17:00:17.930898-07:00 sc-s144 [surajk][python3.7][1032281]: [NOTICE][RSC][meta hostname=sc-s144.sambanovasystems.com tid=1032281 slurmJobId=38261840] Physical RDU 1

SlurmJobInfo(state='COMPLETED', elapsed_string='00:00:09', elapsed_seconds=9, start_time='2022-07-09T00:00:11', exit_code=0, exit_signal=0, host='sc-s144', os='ubuntu 20.04')
